# Шаблон Use-case для ИИ агента

## Инструкция по генерации системных требований

### 1. Название & Цель
- **Формат**: Глагол + Существительное + Контекст (например, "Создание заказа", "Отправка обратной связи").
- **Требование**: Четко сформулируйте цель сценария — что должен достичь пользователь.

### 2. User Story (US)
- **Формат**: "Как [роль пользователя], я хочу [функциональность], чтобы [ценность]".
- **Пример**:  
  `US-1: Как пользователь, я хочу быстро отправлять обратную связь, чтобы экономить время.`

### 3. Участники
- **Основной актор**: Пользователь, инициирующий сценарий.
- **Вторичные акторы**: Система, подсистемы, API.
- **Пример**:  
  `Участники: Пользователь, Система, CRM-интеграция`

### 4. Предусловия
- **Что должно быть выполнено до старта сценария?**  
  Пример:  
  `Пользователь авторизован; Форма обратной связи открыта.`

### 5. Основной сценарий (Happy Path)
- **Формат**: Нумерованные шаги в стиле "Пользователь → Система".  
  **Пример**:  
  1. Пользователь нажимает кнопку "Отправить".  
  2. Система проверяет валидность данных.  
  3. Система сохраняет обращение в БД.  

### 6. Альтернативные сценарии
- **Формат**: "Если [условие] → [действие]". Укажите, к какому шагу основного сценария относится ветвление.  
  **Пример**:  
  `п.2: Если данные невалидны → Система показывает ошибку "Заполните все поля".`

### 7. Постусловия
- **Результат выполнения сценария**.  
  Пример:  
  `Обращение сохранено в БД; Пользователь получает уведомление об успешной отправке.`

---

## Примеры для ИИ


---

## Пример 1: Быстрый запрос обратной связи

| Поле               | Описание |
|---------------------|----------|
| **Название**        | UC-1. Сделать быстрый запрос к форме подачи обращения обратной связи |
| **US-1**            | Как пользователь Системы, хочу иметь возможность из формы подачи обращения быстро и удобно предоставить обратную связь |
| **US-2**            | Как пользователь Системы, хочу автоматического заполнения данных в форме, чтобы избежать ручного ввода |
| **Участники**       | Пользователь Системы, Система, Система 2, Система 3 |
| **Предусловия**     | - Пользователь авторизован<br>- Открыт объект подачи обращения<br>- Дровер доступен только при создании обращения |
| **Основной сценарий** | 1. Пользователь заходит в форму подачи обращения → Отображается форма с возможностью перехода в дровер<br>2. Пользователь нажимает элемент быстрого доступа →<br>   - Если фича-тоггл включен: отображается надпись для перехода (для шаблонов Системы 2 или Системы 3 с `"test":true`)<br>3. Фронт открывает дровер с кнопками-ссылками на МиПы<br>4. Пользователь выбирает кнопку → Открывается соответствующая заявка |
| **Постусловия**     | - Для web: новая вкладка, для mobile: поверх текущей формы<br>- Автоматические проверки:<br>  - Если не выбран раздел/не заполнено "Название сервиса" → ошибка + отправка метрик |
| **Альтернативные сценарии** | - п.3: Уведомление "Поддержка" для новых пользователей (закрывается только явно)<br>- п.4: Лоудер при загрузке<br>- п.4: Ошибка 4XX/5XX → сообщение "Ошибка загрузки"<br>- п.7: Закрытие дровера через "X" или клик мимо |

---

## Пример 2: Регистрация пользователя

| Поле               | Описание |
|---------------------|----------|
| **Название**        | UC-1. Регистрация нового пользователя |
| **Описание**        | Пользователь создает учетную запись через форму регистрации |
| **Акторы**          | Незарегистрированный пользователь, Система |
| **Начальное состояние** | Пользователь на странице регистрации без учетной записи |
| **Успешный сценарий** | 1. Заполнение формы (имя, email, пароль)<br>2. Проверка данных системой<br>3. Сохранение в БД<br>4. Отправка подтверждения на email<br>5. Сообщение об успешной регистрации |
| **Альтернативный сценарий** | п.2: Email существует → предложение восстановить пароль |
| **Негативный сценарий** | Ошибка сети → сообщение "Ошибка соединения" |
| **Критерии приемки** | - Валидация email/пароля<br>- Отправка подтверждающего письма |

---

## Пример 3: Добавление товара в корзину

| Поле               | Описание |
|---------------------|----------|
| **Название**        | Положить товар в корзину |
| **Область действия** | Мобильное приложение интернет-магазина |
| **Основной сценарий** | 1. Выбор количества<br>2. Проверка наличия<br>3. Подтверждение<br>4. Добавление в корзину |
| **Расширение**      | п.3: Нет товара → предложение уменьшить количество |

---

## Критерии качества для ИИ
1. **Детализация**: Учитывать все ветвления (фича-тогглы, статусы типа `"test":true`).
2. **Контекст**: Указывать платформу (web/mobile) для специфичных сценариев.
3. **Обработка ошибок**: Описывать поведение системы при 4XX/5XX ошибках.
4. **Связность**: Альтернативные сценарии должны явно ссылаться на шаги основного потока.
---

## Критерии качества для ИИ
- **Четкость**: Каждый шаг должен быть однозначным.
- **Полнота**: Учитывайте все возможные ветвления (ошибки, валидации).
- **Структурированность**: Используйте таблицы или нумерованные списки для шагов.

**Важно**: ИИ должен генерировать требования на основе этого шаблона, дополняя недостающие детали (например, проверки данных, интеграции с другими системами).